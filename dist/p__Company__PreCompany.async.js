(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{vdUO:function(e,a,t){"use strict";t.r(a);t("IzEo");var n,l,o,r,c=t("bx4M"),s=(t("g9YV"),t("wCAj")),i=t("jehZ"),d=t.n(i),p=(t("14J3"),t("BMrR")),m=(t("+L6B"),t("2/Rp")),u=(t("jCWc"),t("kPKH")),f=t("p0pE"),y=t.n(f),h=(t("miYZ"),t("tsqr")),E=t("2Taf"),b=t.n(E),C=t("vZ4D"),g=t.n(C),k=t("l4Ni"),v=t.n(k),V=t("ujKo"),w=t.n(V),I=t("MhPg"),F=t.n(I),M=(t("2qtc"),t("kLXV")),x=(t("5NDa"),t("5rEg")),D=(t("OaEy"),t("2fM7")),S=(t("y8nQ"),t("Vl3Y")),O=t("q1tI"),q=t.n(O),T=t("MuoO"),P=t("usdK"),A=(t("Y2fQ"),t("zHco")),L=t("wd/R"),Y=t.n(L),H=t("glGN"),B=t.n(H),N=S["a"].Item,j=D["a"].Option,z=S["a"].create()(function(e){var a=e.modalVisible,t=e.form,n=e.handleEdit,l=e.handleModalVisible,o=e.modalInfo,r=function(){t.validateFields(function(e,a){e||(t.resetFields(),n(a,o))})};return q.a.createElement(M["a"],{destroyOnClose:!0,title:"\u4fee\u6539\u516c\u53f8\u5ba1\u6838",style:{top:100},visible:a,onOk:r,onCancel:function(){return l()}},q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u516c\u53f8\u540d\u79f0"},t.getFieldDecorator("company",{initialValue:o.company,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0"}))),q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u7528\u6237\u540d"},t.getFieldDecorator("username",{initialValue:o.username,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u7528\u6237\u540d"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u7528\u6237\u540d"}))),q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5bc6\u7801"},t.getFieldDecorator("password",{initialValue:o.password,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u5bc6\u7801"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u5bc6\u7801"}))),q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u516c\u53f8\u7f16\u53f7"},t.getFieldDecorator("certcode",{initialValue:o.certcode,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u516c\u53f8\u7f16\u53f7CertCode"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u7f16\u53f7CertCode"}))),q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u8054\u7cfb\u4eba"},t.getFieldDecorator("contact",{initialValue:o.contact,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba"}))),q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u7535\u8bdd"},t.getFieldDecorator("tel",{initialValue:o.tel,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7535\u8bdd"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u7535\u8bdd"}))),q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5907\u6ce8"},t.getFieldDecorator("message",{initialValue:o.message,rules:[{message:"\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f"}))))}),R=S["a"].create()(function(e){var a=e.addModalVisible,t=e.form,n=e.handleAdd,l=e.addHandleModalVisible,o=function(){t.validateFields(function(e,a){e||(t.resetFields(),n(a))})};return q.a.createElement(M["a"],{destroyOnClose:!0,title:"\u65b0\u589e\u516c\u53f8\u5ba1\u6838\u4fe1\u606f",style:{top:100},visible:a,onOk:o,onCancel:function(){return l()}},q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u516c\u53f8\u540d\u79f0"},t.getFieldDecorator("company",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0"}))),q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u7528\u6237\u540d"},t.getFieldDecorator("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u7528\u6237\u540d"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u7528\u6237\u540d"}))),q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5bc6\u7801"},t.getFieldDecorator("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u5bc6\u7801"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u5bc6\u7801"}))),q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u516c\u53f8\u7f16\u53f7"},t.getFieldDecorator("certcode",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u516c\u53f8\u7f16\u53f7CertCode"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u7f16\u53f7CertCode"}))),q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u8054\u7cfb\u4eba"},t.getFieldDecorator("contact",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba"}))),q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u7535\u8bdd"},t.getFieldDecorator("tel",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7535\u8bdd"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u7535\u8bdd"}))),q.a.createElement(N,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5907\u6ce8"},t.getFieldDecorator("message",{rules:[{message:"\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f"}))))}),J=(n=Object(T["connect"])(function(e){var a=e.company,t=e.loading;return{company:a,loading:t.models.company}}),l=S["a"].create(),n(o=l((r=function(e){function a(){var e,t;b()(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=v()(this,(e=w()(a)).call.apply(e,[this].concat(l))),t.state={modalVisible:!1,addModalVisible:!1,modalInfo:{},dataSource:[]},t.columns=[{title:"\u516c\u53f8\u540d\u79f0",dataIndex:"company"},{title:"\u516c\u53f8\u7f16\u53f7",dataIndex:"certcode"},{title:"\u8054\u7cfb\u4eba",dataIndex:"contact"},{title:"\u7535\u8bdd",dataIndex:"tel"},{title:"\u5907\u6ce8",dataIndex:"message"},{title:"\u72b6\u6001",dataIndex:"status"},{title:"\u64cd\u4f5c",render:function(e,a){return q.a.createElement(O["Fragment"],null,"\u672a\u5ba1\u6838"===e.status?[q.a.createElement("a",{onClick:function(){return t.createAccount(e,a)}},"\u521b\u5efa\u8d26\u53f7\xa0\xa0")]:[],"\u521b\u5efa\u8d26\u53f7\u6210\u529f"===e.status||"\u5ba1\u6838\u9000\u56de"===e.status?[q.a.createElement("a",{onClick:function(){return t.pass(e,a)}},"\u5ba1\u6838\u901a\u8fc7\xa0\xa0")]:[],"\u5ba1\u6838\u901a\u8fc7"===e.status?[q.a.createElement("a",{onClick:function(){return t.nopass(e,a)}},"\u5ba1\u6838\u9000\u56de\xa0\xa0")]:[],"\u521b\u5efa\u8d26\u53f7\u6210\u529f"===e.status||"\u5ba1\u6838\u901a\u8fc7"===e.status||"\u5ba1\u6838\u9000\u56de"===e.status?[q.a.createElement("a",{onClick:function(){return t.toUserInfo(e,a)}},"\u4eba\u5458\u4fe1\u606f\xa0\xa0")]:[],"\u521b\u5efa\u8d26\u53f7\u6210\u529f"===e.status||"\u5ba1\u6838\u901a\u8fc7"===e.status||"\u5ba1\u6838\u9000\u56de"===e.status?[q.a.createElement("a",{onClick:function(){return t.toIntrusment(e,a)}},"\u4eea\u5668\u8bbe\u5907\xa0\xa0")]:[],"\u521b\u5efa\u8d26\u53f7\u6210\u529f"===e.status||"\u5ba1\u6838\u901a\u8fc7"===e.status||"\u5ba1\u6838\u9000\u56de"===e.status?[q.a.createElement("a",{onClick:function(){return t.toCompanyinfo(e,a)}},"\u516c\u53f8\u4fe1\u606f\xa0\xa0")]:[],q.a.createElement("a",{onClick:function(){return t.modifyItem(e,a)}},"\u7f16\u8f91\xa0\xa0"),q.a.createElement("a",{onClick:function(){return t.deleteItem(e,a)}},"\u5220\u9664"))}}],t.init=function(){var e=t.props.dispatch,a={};e({type:"company/getPreCompanyList",payload:a,callback:function(e){e&&(t.state.dataSource=e.data)}})},t.handleFormReset=function(){var e=t.props.form;e.resetFields(),t.init()},t.handleSearch=function(e){e.preventDefault();var a=t.props,n=a.dispatch,l=a.form;l.validateFields(function(e,a){if(!e){var l={kind:a.kind.trim(),value:a.value.trim()};n({type:"company/getPreCompanyList",payload:l,callback:function(e){e&&(t.state.dataSource=e.data)}})}})},t.isValidDate=function(e){return void 0!==e&&null!==e?q.a.createElement("span",null,Y()(e).format("YYYY-MM-DD")):[]},t.toUserInfo=function(e){var a=t.props.dispatch;a({type:"company/isExistCompanyBycertcode",payload:{certcode:e.certcode},callback:function(a){"success"===a?(sessionStorage.setItem("companyusermanage_certcode",e.certcode),P["a"].push({pathname:"/Company/CompanyUserManage"})):M["a"].error({title:"\u8be5\u516c\u53f8\u4e0d\u5b58\u5728\uff01",content:"\u8be5\u516c\u53f8\u4fe1\u606f\u53ef\u80fd\u88ab\u5220\u9664\uff01",okText:"\u77e5\u9053\u4e86",onOk:function(){}})}})},t.toIntrusment=function(e){var a=t.props.dispatch;a({type:"company/isExistCompanyBycertcode",payload:{certcode:e.certcode},callback:function(a){"success"===a?(sessionStorage.setItem("companyusermanage_certcode",e.certcode),P["a"].push({pathname:"/Company/Intrusment"})):M["a"].error({title:"\u8be5\u516c\u53f8\u4e0d\u5b58\u5728\uff01",content:"\u8be5\u516c\u53f8\u4fe1\u606f\u53ef\u80fd\u88ab\u5220\u9664\uff01",okText:"\u77e5\u9053\u4e86",onOk:function(){}})}})},t.toCompanyinfo=function(e){var a=t.props.dispatch;a({type:"company/isExistCompanyBycertcode",payload:{certcode:e.certcode},callback:function(a){"success"===a?(sessionStorage.setItem("companyusermanage_certcode",e.certcode),P["a"].push({pathname:"/Company/CompanyInfo"})):M["a"].error({title:"\u8be5\u516c\u53f8\u4e0d\u5b58\u5728\uff01",content:"\u8be5\u516c\u53f8\u4fe1\u606f\u53ef\u80fd\u88ab\u5220\u9664\uff01",okText:"\u77e5\u9053\u4e86",onOk:function(){}})}})},t.modifyItem=function(e){t.setState({modalInfo:e}),t.handleModalVisible(!0)},t.pass=function(e){var a=t.props.dispatch;M["a"].confirm({title:"\u786e\u5b9a\u5ba1\u6838\u901a\u8fc7\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a({type:"company/passPreCompany",payload:e,callback:function(e){"success"===e?(h["a"].success("\u64cd\u4f5c\u6210\u529f"),t.init()):h["a"].success("\u64cd\u4f5c\u5931\u8d25")}})}})},t.nopass=function(e){var a=t.props.dispatch;M["a"].confirm({title:"\u786e\u5b9a\u5ba1\u6838\u9000\u56de\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a({type:"company/nopassPreCompany",payload:e,callback:function(e){"success"===e?(h["a"].success("\u64cd\u4f5c\u6210\u529f"),t.init()):h["a"].success("\u64cd\u4f5c\u5931\u8d25")}})}})},t.createAccount=function(e){var a=t.props.dispatch;M["a"].confirm({title:"\u786e\u5b9a\u521b\u5efa\u8d26\u53f7\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var n=y()({},e);a({type:"company/createAccount",payload:n,callback:function(e){"success"===e?(h["a"].success("\u521b\u5efa\u6210\u529f"),t.init()):h["a"].success("\u521b\u5efa\u5931\u8d25")}})}})},t.deleteItem=function(e){var a=t.props.dispatch;M["a"].confirm({title:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var n=y()({},e);a({type:"company/deletePreCompany",payload:n,callback:function(e){"success"===e?(t.init(),h["a"].success("\u5220\u9664\u6210\u529f")):h["a"].success("\u5220\u9664\u5931\u8d25")}})}})},t.addItem=function(){t.addHandleModalVisible(!0)},t.handleModalVisible=function(e){t.setState({modalVisible:!!e})},t.addHandleModalVisible=function(e){t.setState({addModalVisible:!!e})},t.handleEdit=function(e,a){var n=t.props.dispatch,l=a;l.company=e.company,l.username=e.username,l.password=e.password,l.certcode=e.certcode,l.tel=e.tel,l.contact=e.contact,l.message=e.message,l.status="\u672a\u5ba1\u6838";var o=y()({},l);n({type:"company/updatePreCompany",payload:o,callback:function(e){"success"===e?(h["a"].success("\u4fdd\u5b58\u6210\u529f"),t.init()):h["a"].success("\u4fdd\u5b58\u5931\u8d25")}}),t.setState({modalVisible:!1})},t.handleAdd=function(e){var a=t.props.dispatch,n=y()({},e);a({type:"company/addPreCompany",payload:n,callback:function(e){"success"===e?(h["a"].success("\u4fdd\u5b58\u6210\u529f"),t.init()):h["a"].success("\u4fdd\u5b58\u5931\u8d25")}}),t.setState({addModalVisible:!1})},t}return F()(a,e),g()(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return q.a.createElement(S["a"],{onSubmit:this.handleSearch,layout:"inline"},q.a.createElement(p["a"],{gutter:{md:8,lg:24,xl:48}},q.a.createElement(u["a"],{md:3,sm:20},q.a.createElement(S["a"].Item,{labelCol:{span:5},wrapperCol:{span:6},colon:!1},e("kind",{initialValue:"company",rules:[{message:"\u641c\u7d22\u7c7b\u578b"}]})(q.a.createElement(D["a"],{placeholder:"\u641c\u7d22\u7c7b\u578b"},q.a.createElement(j,{value:"company"},"\u516c\u53f8\u540d\u79f0"),q.a.createElement(j,{value:"username"},"\u7528\u6237\u540d"),q.a.createElement(j,{value:"password"},"\u5bc6\u7801"),q.a.createElement(j,{value:"certcode"},"\u516c\u53f8\u7f16\u53f7"),q.a.createElement(j,{value:"tel"},"\u7535\u8bdd"),q.a.createElement(j,{value:"contact"},"\u8054\u7cfb\u4eba"),q.a.createElement(j,{value:"message"},"\u5907\u6ce8"))))),q.a.createElement(u["a"],{md:6,sm:20},q.a.createElement(N,null,e("value",{rules:[{message:"\u641c\u7d22\u6570\u636e"}]})(q.a.createElement(x["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),q.a.createElement(u["a"],{md:8,sm:20},q.a.createElement("span",{className:B.a.submitButtons},q.a.createElement(m["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),q.a.createElement(m["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),q.a.createElement(m["a"],{type:"primary",style:{marginLeft:8},onClick:this.addItem},"\u65b0\u589e")))))}},{key:"render",value:function(){var e=this.props,a=e.loading,t=e.dispatch,n=this.state,l=n.modalVisible,o=n.modalInfo,r=n.addModalVisible,i=n.dataSource,p={handleEdit:this.handleEdit,handleAdd:this.handleAdd,handleModalVisible:this.handleModalVisible,addHandleModalVisible:this.addHandleModalVisible};return q.a.createElement(A["a"],null,q.a.createElement(c["a"],{bordered:!1,size:"middle"},q.a.createElement("div",{className:B.a.tableList},q.a.createElement(z,d()({},p,{modalVisible:l,modalInfo:o,dispatch:t})),q.a.createElement(R,d()({},p,{addModalVisible:r,dispatch:t})),q.a.createElement("div",{className:B.a.tableListForm},this.renderSimpleForm()),q.a.createElement(s["a"],{size:"middle",loading:a,dataSource:i,columns:this.columns,rowKey:"keyno",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))))}}]),a}(O["PureComponent"]),o=r))||o)||o);a["default"]=J}}]);