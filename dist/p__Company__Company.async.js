(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"e4+2":function(e,a,t){"use strict";t.r(a);t("IzEo");var l,n,r,o,c=t("bx4M"),i=(t("g9YV"),t("wCAj")),s=t("jehZ"),d=t.n(s),m=(t("14J3"),t("BMrR")),p=(t("+L6B"),t("2/Rp")),u=(t("jCWc"),t("kPKH")),b=t("p0pE"),C=t.n(b),f=(t("miYZ"),t("tsqr")),h=t("2Taf"),E=t.n(h),g=t("vZ4D"),y=t.n(g),k=t("l4Ni"),v=t.n(k),V=t("ujKo"),S=t.n(V),F=t("MhPg"),w=t.n(F),D=(t("2qtc"),t("kLXV")),I=(t("5NDa"),t("5rEg")),M=(t("OaEy"),t("2fM7")),A=(t("y8nQ"),t("Vl3Y")),N=t("q1tI"),x=t.n(N),O=t("MuoO"),L=t("usdK"),Y=(t("Y2fQ"),t("zHco")),q=t("wd/R"),H=t.n(q),T=t("glGN"),j=t.n(T),z=A["a"].Item,R=M["a"].Option,J=A["a"].create()(function(e){var a=e.modalVisible,t=e.form,l=e.handleEdit,n=e.handleModalVisible,r=e.modalInfo,o=function(){t.validateFields(function(e,a){e||(t.resetFields(),l(a,r))})};return x.a.createElement(D["a"],{destroyOnClose:!0,title:"\u4fee\u6539\u516c\u53f8",style:{top:100},visible:a,onOk:o,onCancel:function(){return n()}},x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u516c\u53f8\u540d\u79f0"},t.getFieldDecorator("namec",{initialValue:r.namec,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0"}))),x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u82f1\u6587\u540d"},t.getFieldDecorator("namee",{initialValue:r.namee,rules:[{message:"\u8bf7\u8f93\u5165\u516c\u53f8\u82f1\u6587\u540d"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u82f1\u6587\u540d"}))),x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5730\u5740"},t.getFieldDecorator("adres",{initialValue:r.adres,rules:[{message:"\u8bf7\u8f93\u5165\u516c\u53f8\u5730\u5740"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u5730\u5740"}))),x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u516c\u53f8\u7f16\u53f7"},t.getFieldDecorator("certcode",{initialValue:r.certcode,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u516c\u53f8\u7f16\u53f7CertCode"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u7f16\u53f7CertCode"}))),x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u516c\u53f8\u7535\u8bdd"},t.getFieldDecorator("tel",{initialValue:r.tel,rules:[{message:"\u8bf7\u8f93\u5165\u516c\u53f8\u7535\u8bdd"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u7535\u8bdd"}))),x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5f00\u6237\u884c"},t.getFieldDecorator("bank",{initialValue:r.bank,rules:[{message:"\u8bf7\u8f93\u5165\u5f00\u6237\u884c"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u5f00\u6237\u884c"}))),x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u6bcd\u516c\u53f8"},t.getFieldDecorator("belongto",{initialValue:r.belongto,rules:[{message:"\u8bf7\u8f93\u5165\u6bcd\u516c\u53f8\u7f16\u53f7"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u6bcd\u516c\u53f8\u7f16\u53f7"}))))}),K=A["a"].create()(function(e){var a=e.addModalVisible,t=e.form,l=e.handleAdd,n=e.addHandleModalVisible,r=function(){t.validateFields(function(e,a){e||(t.resetFields(),l(a))})};return x.a.createElement(D["a"],{destroyOnClose:!0,title:"\u65b0\u589e\u516c\u53f8\u4fe1\u606f",style:{top:100},visible:a,onOk:r,onCancel:function(){return n()}},x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u516c\u53f8\u540d\u79f0"},t.getFieldDecorator("namec",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0"}))),x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u82f1\u6587\u540d"},t.getFieldDecorator("namee",{rules:[{message:"\u8bf7\u8f93\u5165\u516c\u53f8\u82f1\u6587\u540d"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u82f1\u6587\u540d"}))),x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5730\u5740"},t.getFieldDecorator("adres",{rules:[{message:"\u8bf7\u8f93\u5165\u516c\u53f8\u5730\u5740"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u5730\u5740"}))),x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u516c\u53f8\u7f16\u53f7"},t.getFieldDecorator("certcode",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u516c\u53f8\u7f16\u53f7CertCode"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u7f16\u53f7CertCode"}))),x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u516c\u53f8\u7535\u8bdd"},t.getFieldDecorator("tel",{rules:[{message:"\u8bf7\u8f93\u5165\u516c\u53f8\u7535\u8bdd"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u7535\u8bdd"}))),x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5f00\u6237\u884c"},t.getFieldDecorator("bank",{rules:[{message:"\u8bf7\u8f93\u5165\u5f00\u6237\u884c"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u5f00\u6237\u884c"}))),x.a.createElement(z,{labelCol:{span:5},wrapperCol:{span:15},label:"\u6bcd\u516c\u53f8"},t.getFieldDecorator("belongto",{rules:[{message:"\u8bf7\u8f93\u5165\u6bcd\u516c\u53f8\u7f16\u53f7"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165\u6bcd\u516c\u53f8\u7f16\u53f7"}))))}),P=(l=Object(O["connect"])(function(e){var a=e.company,t=e.loading;return{company:a,loading:t.models.company}}),n=A["a"].create(),l(r=n((o=function(e){function a(){var e,t;E()(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return t=v()(this,(e=S()(a)).call.apply(e,[this].concat(n))),t.state={modalVisible:!1,addModalVisible:!1,modalInfo:{},dataSource:[]},t.columns=[{title:"\u516c\u53f8\u540d\u79f0",dataIndex:"namec"},{title:"\u5730\u5740",dataIndex:"adres"},{title:"\u7535\u8bdd",dataIndex:"tel"},{title:"\u72b6\u6001",dataIndex:"status"},{title:"\u64cd\u4f5c",render:function(e,a){return x.a.createElement(N["Fragment"],null,x.a.createElement("a",{onClick:function(){return t.setInitSet(e,a)}},"\u521d\u59cb\u5316"),"\xa0\xa0",x.a.createElement("a",{onClick:function(){return t.initCNAS(e)}},"CNAS\u521d\u59cb\u5316"),"\xa0\xa0",x.a.createElement("a",{onClick:function(){return t.setCNAS(e,a)}},"CNAS\u9879\u76ee"),"\xa0\xa0",x.a.createElement("a",{onClick:function(){return t.modifyItem(e,a)}},"\u4fee\u6539"),"\xa0\xa0",x.a.createElement("a",{onClick:function(){return t.deleteItem(e,a)}},"\u5220\u9664"))}}],t.setCNAS=function(e){sessionStorage.setItem("goCNASCheckFourCertCodeListInfo_CertCode",e.certcode),L["a"].push({pathname:"CNASCheckFourCertCode"})},t.initCNAS=function(e){var a=t.props.dispatch,l={certCode:e.certcode};D["a"].confirm({title:"\u786e\u5b9a\u4e3aCNAS\u521d\u59cb\u5316\u6240\u6709\u9879\u76ee\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){a({type:"company/initCNAS",payload:l,callback:function(e){200===e.code?f["a"].success("\u521d\u59cb\u5316CNAS\u9879\u76ee\u6210\u529f"):f["a"].error("\u521d\u59cb\u5316CNAS\u9879\u76ee\u5931\u8d25")}})}})},t.setInitSet=function(e){D["a"].confirm({title:"\u786e\u5b9a\u4e3a\u516c\u53f8\u521d\u59cb\u5316\u57fa\u672c\u914d\u7f6e\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var a=t.props.dispatch,l={certCode:e.certcode};a({type:"company/addDefaultProject",payload:l,callback:function(e){"success"===e?(f["a"].success("\u521d\u59cb\u5316\u68c0\u67e5\u9879\u76ee\u6210\u529f"),a({type:"company/addDefaultInvoiceTitle",payload:l,callback:function(e){console.log(e),"success"===e?f["a"].success("\u521d\u59cb\u5316\u516c\u53f8\u53d1\u7968\u4fe1\u606f\u6210\u529f"):f["a"].error("\u521d\u59cb\u5316\u516c\u53f8\u53d1\u7968\u4fe1\u606f\u5931\u8d25")}})):f["a"].error("\u521d\u59cb\u5316\u68c0\u67e5\u9879\u76ee\u5931\u8d25")}})}})},t.init=function(){var e=t.props.dispatch,a={};e({type:"company/getCompanyList",payload:a,callback:function(e){e&&(t.state.dataSource=e.data)}})},t.handleFormReset=function(){var e=t.props.form;e.resetFields(),t.init()},t.handleSearch=function(e){e.preventDefault();var a=t.props,l=a.dispatch,n=a.form;n.validateFields(function(e,a){if(!e){var n={kind:a.kind.trim(),value:a.value.trim()};l({type:"company/getCompanyList",payload:n,callback:function(e){e&&(t.state.dataSource=e.data)}})}})},t.isValidDate=function(e){return void 0!==e&&null!==e?x.a.createElement("span",null,H()(e).format("YYYY-MM-DD")):[]},t.modifyItem=function(e){t.setState({modalInfo:e}),t.handleModalVisible(!0)},t.deleteItem=function(e){var a=t.props.dispatch,l=C()({},e);a({type:"company/deleteCompany",payload:l,callback:function(e){"success"===e?(t.init(),f["a"].success("\u5220\u9664\u6210\u529f")):f["a"].success("\u5220\u9664\u5931\u8d25")}})},t.addItem=function(){t.addHandleModalVisible(!0)},t.handleModalVisible=function(e){t.setState({modalVisible:!!e})},t.addHandleModalVisible=function(e){t.setState({addModalVisible:!!e})},t.handleEdit=function(e,a){var l=t.props.dispatch,n=a;n.namec=e.namec,n.adres=e.adres,n.tel=e.tel,n.certcode=e.certcode,n.bank=e.bank,n.belongto=e.belongto,n.namee=e.namee;var r=C()({},n);l({type:"company/updateCompany",payload:r,callback:function(e){"success"===e?(f["a"].success("\u4fdd\u5b58\u6210\u529f"),t.init()):f["a"].success("\u4fdd\u5b58\u5931\u8d25")}}),t.setState({modalVisible:!1})},t.handleAdd=function(e){var a=t.props.dispatch,l=C()({},e);a({type:"company/addCompany",payload:l,callback:function(e){"success"===e?(f["a"].success("\u4fdd\u5b58\u6210\u529f"),t.init()):f["a"].success("\u4fdd\u5b58\u5931\u8d25")}}),t.setState({addModalVisible:!1})},t}return w()(a,e),y()(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return x.a.createElement(A["a"],{onSubmit:this.handleSearch,layout:"inline"},x.a.createElement(m["a"],{gutter:{md:8,lg:24,xl:48}},x.a.createElement(u["a"],{md:3,sm:20},x.a.createElement(A["a"].Item,{labelCol:{span:5},wrapperCol:{span:6},colon:!1},e("kind",{initialValue:"namec",rules:[{message:"\u641c\u7d22\u7c7b\u578b"}]})(x.a.createElement(M["a"],{placeholder:"\u641c\u7d22\u7c7b\u578b"},x.a.createElement(R,{value:"namec"},"\u516c\u53f8\u540d\u79f0"),x.a.createElement(R,{value:"adres"},"\u5730\u5740"),x.a.createElement(R,{value:"tel"},"\u7535\u8bdd"),x.a.createElement(R,{value:"certcode"},"\u516c\u53f8\u7f16\u7801"),x.a.createElement(R,{value:"bank"},"\u5f00\u6237\u884c"),x.a.createElement(R,{value:"belongto"},"\u6bcd\u516c\u53f8\u7f16\u53f7"))))),x.a.createElement(u["a"],{md:6,sm:20},x.a.createElement(z,null,e("value",{rules:[{message:"\u641c\u7d22\u6570\u636e"}]})(x.a.createElement(I["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),x.a.createElement(u["a"],{md:8,sm:20},x.a.createElement("span",{className:j.a.submitButtons},x.a.createElement(p["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),x.a.createElement(p["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),x.a.createElement(p["a"],{type:"primary",style:{marginLeft:8},onClick:this.addItem},"\u65b0\u589e")))))}},{key:"render",value:function(){var e=this.props,a=e.loading,t=e.dispatch,l=this.state,n=l.modalVisible,r=l.modalInfo,o=l.addModalVisible,s=l.dataSource,m={handleEdit:this.handleEdit,handleAdd:this.handleAdd,handleModalVisible:this.handleModalVisible,addHandleModalVisible:this.addHandleModalVisible};return x.a.createElement(Y["a"],null,x.a.createElement(c["a"],{bordered:!1,size:"middle"},x.a.createElement("div",{className:j.a.tableList},x.a.createElement(J,d()({},m,{modalVisible:n,modalInfo:r,dispatch:t})),x.a.createElement(K,d()({},m,{addModalVisible:o,dispatch:t})),x.a.createElement("div",{className:j.a.tableListForm},this.renderSimpleForm()),x.a.createElement(i["a"],{size:"middle",loading:a,dataSource:s,columns:this.columns,rowKey:"keyno",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))))}}]),a}(N["PureComponent"]),r=o))||r)||r);a["default"]=P}}]);