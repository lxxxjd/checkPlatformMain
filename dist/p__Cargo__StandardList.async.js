(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{ZPnP:function(e,t,a){"use strict";a.r(t);a("2qtc");var n,o,i,s,r=a("kLXV"),l=(a("5NDa"),a("5rEg")),c=(a("IzEo"),a("bx4M")),d=(a("g9YV"),a("wCAj")),m=(a("+L6B"),a("2/Rp")),u=a("p0pE"),p=a.n(u),g=(a("/xke"),a("TeRw")),f=a("2Taf"),y=a.n(f),h=a("vZ4D"),k=a.n(h),v=a("l4Ni"),b=a.n(v),S=a("ujKo"),E=a.n(S),I=a("MhPg"),w=a.n(I),C=(a("OaEy"),a("2fM7")),O=(a("y8nQ"),a("Vl3Y")),M=a("q1tI"),D=a.n(M),N=a("MuoO"),x=a("zHco"),T=(a("wd/R"),a("glGN")),z=a.n(T),A=(a("9ZC1"),O["a"].Item,C["a"].Option,n=Object(N["connect"])(function(e){var t=e.dict,a=e.loading;return{dict:t,loading:a.models.dict}}),o=O["a"].create(),n(i=o((s=function(e){function t(){var e,a;y()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return a=b()(this,(e=E()(t)).call.apply(e,[this].concat(o))),a.state={visible:!1,modalInfo:{},keyno:null},a.columns=[{title:"\u68c0\u67e5\u54c1\u540d",dataIndex:"cargonameC"},{title:"\u6307\u6807\u540d\u79f0",dataIndex:"item"},{title:"\u6807\u51c6",dataIndex:"standard"},{title:"\u5355\u4f4d",dataIndex:"unit"},{title:"\u64cd\u4f5c",render:function(e,t){return D.a.createElement(M["Fragment"],null,D.a.createElement("a",{onClick:function(){return a.modifyItem(e,t)}},"\u4fee\u6539"),"\xa0\xa0",D.a.createElement("a",{onClick:function(){return a.deleteItem(e,t)}},"\u5220\u9664"))}}],a.deleteItem=function(e){var t=a.props.dispatch;t({type:"dict/deleteTestStandard",payload:{keyno:e.keyno},callback:function(e){200===e.code?(g["a"].open({message:"\u5220\u9664\u6210\u529f"}),a.componentDidMount()):g["a"].open({message:"\u5220\u9664\u5931\u8d25",description:e.message})}})},a.modifyItem=function(e){var t=a.props.form;a.setState({visible:!0}),a.setState({keyno:e.keyno}),t.setFieldsValue({standard:e.standard,unit:e.unit})},a.handleOk=function(){var e=a.props,t=e.form.validateFieldsAndScroll,n=e.dispatch,o=a.state.keyno;t(function(e,t){var i=JSON.parse(localStorage.getItem("userinfo")),s=sessionStorage.getItem("cargoname"),r=sessionStorage.getItem("item");e||n(null!==o?{type:"dict/updateTestStandard",payload:p()({},t,{keyno:o,item:r,cargoname:s,certcode:i.certCode}),callback:function(e){200===e.code?(g["a"].open({message:"\u4fee\u6539\u6210\u529f"}),a.componentDidMount(),a.setState({visible:!1})):g["a"].open({message:"\u4fee\u6539\u5931\u8d25",description:e.message})}}:{type:"dict/addTestStandard",payload:p()({},t,{cargoname:s,item:r,certcode:i.certCode}),callback:function(e){200===e.code?(g["a"].open({message:"\u6dfb\u52a0\u6210\u529f"}),a.componentDidMount(),a.setState({visible:!1})):g["a"].open({message:"\u6dfb\u52a0\u5931\u8d25",description:e.message})}})})},a.showAdd=function(){a.setState({keyno:null}),a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.back=function(){a.props.history.goBack()},a}return w()(t,e),k()(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("userinfo"));var e=sessionStorage.getItem("cargoname"),t=sessionStorage.getItem("item"),a=this.props.dispatch,n={cargoname:e,item:t};a({type:"dict/getTestStandard",payload:n})}},{key:"render",value:function(){var e=this.props,t=e.dict.standards,a=e.loading,n=(e.dispatch,e.form.getFieldDecorator),o=this.state.visible;return D.a.createElement(x["a"],null,D.a.createElement(c["a"],{bordered:!1,size:"small"},D.a.createElement("div",{className:z.a.tableList},D.a.createElement("div",{className:z.a.tableListForm},D.a.createElement(m["a"],{type:"primary",style:{marginBottom:8},onClick:this.showAdd},"\u65b0\u589e"),D.a.createElement(m["a"],{type:"primary",style:{marginBottom:8,marginLeft:8},onClick:this.back},"\u8fd4\u56de")),D.a.createElement(d["a"],{size:"middle",loading:a,dataSource:t,columns:this.columns,rowKey:"standard",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))),D.a.createElement(r["a"],{title:"\u4fee\u6539\u8d27\u7269\u4fe1\u606f",visible:o,onOk:this.handleOk,onCancel:this.handleCancel},D.a.createElement(O["a"],null,D.a.createElement(O["a"].Item,{label:"\u6807\u51c6\u540d\u79f0"},n("standard",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u51c6\u540d"}]})(D.a.createElement(l["a"],null))),D.a.createElement(O["a"].Item,{label:"\u5355\u4f4d"},n("unit",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5355\u4f4d"}]})(D.a.createElement(l["a"],null))))))}}]),t}(M["PureComponent"]),i=s))||i)||i);t["default"]=A}}]);